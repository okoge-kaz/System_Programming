# [æ³¨æ„]
# ä¸‹è¨˜ã® # ã§å§‹ã¾ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆè¡Œã‚’å¤‰æ›´ï¼ˆä¿®æ­£ï¼Œå‰Šé™¤ï¼‰ã—ãªã„ã“ã¨ï¼
# èª²é¡ŒNã®å›ç­”ã¯ï¼Œ### ExerciseN ### ã®ã‚³ãƒ¡ãƒ³ãƒˆè¡Œã®ä¸‹ã®é ˜åŸŸã«è¨˜è¿°ã—ã¦ä¸‹ã•ã„ï¼

### ID ### å­¦ç±ç•ªå·ã‚’ã€ŒNN_NNNNNã€ã®ã‚ˆã†ã«æ›¸ã„ã¦ä¸‹ã•ã„
20B30790

### Email ### mãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æ›¸ã„ã¦ä¸‹ã•ã„
fujii.k.ao@m.titech.ac.jp

### Name ### æ°åã‚’ã€Œæ±å·¥ å¤ªéƒã€ã®ã‚ˆã†ã«æ›¸ã„ã¦ä¸‹ã•ã„
è—¤äº• ä¸€å–œ

### Env ### æ¼”ç¿’å®Ÿæ–½ç’°å¢ƒï¼ˆOSã¨ãã®ä¸Šã§ã®UNIXç’°å¢ƒï¼‰ã‚’æ˜ã‚‰ã‹ã«ã—ã¦ä¸‹ã•ã„
### ä¾‹ï¼šrepl.it
### ä¾‹ï¼šWSL1 on Windows 10
### ä¾‹ï¼šWSL2 on Windows 10
### ä¾‹ï¼šmacOS 10.15 on Intel Mac
### ä¾‹ï¼šmacOS 10.16 on M1 Mac
### ä¾‹ï¼šUbuntu Linux 20.04
macOS 12.4 on Intel Mac

### Exercise1 ### èª²é¡Œ1
# telnet ã«ã‚ˆã‚‹é©å½“ãªæ¥ç¶šçµæœã‚’ãƒšãƒ¼ã‚¹ãƒˆã—ã¾ã—ã‚‡ã†ï¼
â¯ telnet 127.0.0.1 10000
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
GET / HTTP/1.0 

HTTP/1.0 200 OK
Content-Type: text/html

<title>Welcome</title>
<h1>It Works!</h1>
<p>Seeing this instead of the website you expected?
<a href="https://www.google.com/search?q=%E3%81%82%E3%81%AA%E3%81%9F%E3%81%AE%E4%BA%88%E6%83%B3%E3%81%AB%E5%8F%8D%E3%81%97%E3%81%A6%E3%80%81%E3%81%93%E3%81%AE%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%8C%E8%A6%8B%E3%81%88%E3%81%A6%E3%81%84%E3%82%8B%E3%81%A7%E3%81%97%E3%82%87%E3%81%86%E3%81%8B">(What's this?)</a></p>
<ul>
<li><a href="test.html">test</a></li>
<li><a href="bin.cgi">bin.cgi</a></li>
<li><a href="script.cgi">script.cgi</a></li>
</ul>
Connection closed by foreign host.
â¯ telnet 127.0.0.1 10000
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
GET /test.html HTTP/1.0                    

HTTP/1.0 200 OK
Content-Type: text/html

<title>test</title>
<h1>test</h1>
<p>This is a test page.</p>
Connection closed by foreign host.
â¯ telnet 127.0.0.1 10000
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
GET /fugaguga.html HTTP/1.0            

HTTP/1.0 404 Not Found
Content-Type: text/html

<title>404 Not Found</title><h1>404 Not Found</h1>
Connection closed by foreign host.


### Exercise1-test ###
### make test1 ã®çµæœã‚’è²¼ã‚Šä»˜ã‘ã¦ä¸‹ã•ã„ï¼
â¯ make OPT=-v test1
âœ…  OK ğŸ‰ [1-1test-code] ./ttcurl -u /test.html -c 
âœ…  OK ğŸ‰ [1-2test-body] ./ttcurl -u /test.html -b 
âœ…  OK ğŸ‰ [1-3index-code] ./ttcurl -u / -c 
âœ…  OK ğŸ‰ [1-4index-body] ./ttcurl -u / -b 
âœ…  OK ğŸ‰ [1-5notfound] ./ttcurl -u /nonexistent.html -c


### Exercise2 ### èª²é¡Œ2
# å®Ÿè£…æ–¹æ³•ã«ã¤ã„ã¦ï¼Œæ¦‚è¦ã‚’ç°¡å˜ã«ã¾ã¨ã‚ã¦ãã ã•ã„ï¼
serveé–¢æ•°ã®ä¸­ã§ã€acceptã‚’ã—ã¦ã®ã¡ã«forkã‚’è¡Œã„ã€å­ãƒ—ãƒ­ã‚»ã‚¹ã«æ¥ç¶šãŒå®Œäº†ã—ãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã®å‡¦ç†ã‚’ä»»ã›ã€è¦ªãƒ—ãƒ­ã‚»ã‚¹ã§ã¯closeã‚’è¡Œã„æ¬¡ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’å¾…ã¤


### Exercise2-test ###
### make test2 ã®çµæœã‚’è²¼ã‚Šä»˜ã‘ã¦ä¸‹ã•ã„ï¼
â¯ make OPT=-v test2
âœ…  OK ğŸ‰ [2-wait] sh t/2-wait.sh 


### ExerciseA ### ç™ºå±•èª²é¡ŒA
# telnet ã«ã‚ˆã‚‹é©å½“ãªæ¥ç¶šçµæœã‚’ãƒšãƒ¼ã‚¹ãƒˆã—ã¾ã—ã‚‡ã†ï¼
â¯ telnet 127.0.0.1 10000
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
GET /script.cgi HTTP/1.0

HTTP/1.0 200 OK
Content-Type: text/html

<p>perl is running.</p>
Connection closed by foreign host.
â¯ telnet 127.0.0.1 10000
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
GET /bin.cgi HTTP/1.0

HTTP/1.0 200 OK
Content-Type: text/html

<title>echo</title><p>This document is dynamically generated!</p>
Connection closed by foreign host.


### ExerciseA-test ###
### make testA ã®çµæœã‚’è²¼ã‚Šä»˜ã‘ã¦ä¸‹ã•ã„ï¼
â¯ make OPT=-v testA
âœ…  OK ğŸ‰ [A-1bin] ./ttcurl -u /bin.cgi -b 
âœ…  OK ğŸ‰ [A-2script] ./ttcurl -u /script.cgi -b 
âœ…  OK ğŸ‰ [A-3bin-code] ./ttcurl -u /bin.cgi -c 
âœ…  OK ğŸ‰ [A-4script-code] ./ttcurl -u /script.cgi -c 
âœ…  OK ğŸ‰ [A-5none-code] ./ttcurl -u /nonexistent.cgi -c 

### Comment ### æ„Ÿæƒ³ï¼ˆæ¡ç‚¹å¯¾è±¡å¤–ï¼Œå¥½ãã«æ›¸ã„ã¦ä¸‹ã•ã„ï¼ï¼‰



### END ###
